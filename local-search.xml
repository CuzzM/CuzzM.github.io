<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>设计模式</title>
    <link href="/2022/06/20/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <url>/2022/06/20/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<hr><h1 id="1-设计模式七大原则"><a href="#1-设计模式七大原则" class="headerlink" title="1. 设计模式七大原则"></a>1. 设计模式七大原则</h1><p><img src="/2022/06/20/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20220620135439901.png" alt="image-20220620135439901"></p>]]></content>
    
    
    
    <tags>
      
      <tag>abc</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>docker</title>
    <link href="/2022/04/23/docker/"/>
    <url>/2022/04/23/docker/</url>
    
    <content type="html"><![CDATA[<h1 id="1-docker镜像基本操作"><a href="#1-docker镜像基本操作" class="headerlink" title="1. docker镜像基本操作"></a>1. docker镜像基本操作</h1><h2 id="1-1-docker辅助命令"><a href="#1-1-docker辅助命令" class="headerlink" title="1.1 docker辅助命令"></a>1.1 docker辅助命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">用来展示docker信息</span><br>docker info<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">查看版本号</span><br>docer version<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">查看docker所有帮助命令</span><br>docker --help<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">docker命令格式  []-&gt;代表可选的</span><br>docker [options] command<br></code></pre></td></tr></table></figure><h2 id="1-2-操作镜像的相关命令"><a href="#1-2-操作镜像的相关命令" class="headerlink" title="1.2 操作镜像的相关命令"></a>1.2 操作镜像的相关命令</h2><blockquote><p>1.查看本地镜像</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">查看本地仓库中存在哪些镜像</span><br>docker images<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">查看一个镜像名的所有版本</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">可以查出mysql:5.6 mysql:x.x</span><br>docker images mysql<br></code></pre></td></tr></table></figure><p><img src="/2022/04/23/docker/image-20220423134337961.png" alt="image-20220423134337961"></p><ul><li>REPOSITORY: 镜像名称</li><li>TAG: 版本</li><li>IMAGE ID: 镜像ID</li><li>CREATED: 镜像创建时间</li><li>SIZE: 镜像大小</li></ul><blockquote><p>2.拉取镜像</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">这是第一种方式,通过摘要也可以</span><br>docker pull 镜像名[:tag]<br>docker pull mysql:5.6.50<br></code></pre></td></tr></table></figure><blockquote><p>3.通过命令行搜索需要的镜像</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker search 镜像名<br></code></pre></td></tr></table></figure><blockquote><p>4.删除镜像</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">删除镜像</span><br>docker image rm name:tag | IMAGE ID<br>dokcer image rm -f name:tag | IMAGE ID<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">删除镜像的简化写法</span><br>docker rmi name:tag | image ID<br>docker rmi -f name:tag | image ID<br></code></pre></td></tr></table></figure><ul><li>要理解一个概念,再删除时如果我们删除可能会报下面错误,因为<strong>镜像时 容器的模板</strong>,容器就是运行时镜像</li></ul><p>Error response from daemon: conflict: unable to remove repository reference “hello-world:latest” (must force) - container 1170d6aadeb5 is using its referenced image feb5d9fea6a5</p><p>因为我们可以使用强制删除</p><blockquote><p>5.组合删除</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">删除所有镜像</span><br>docker rmi -f $(docker images -aq)<br></code></pre></td></tr></table></figure><h1 id="2-容器的相关命令"><a href="#2-容器的相关命令" class="headerlink" title="2. 容器的相关命令"></a>2. 容器的相关命令</h1><blockquote><p>1.将打包tar镜像文件导入自己的docker仓库</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">&lt;imageName&gt; -&gt; 镜像名</span><br>docker load -i &lt;imageName&gt;<br><br>dokcer load -i redis-5.0.10.tar<br></code></pre></td></tr></table></figure><blockquote><p>2.运行容器、端口映射、后台启动、别名</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">以tomcat为例去运行容器</span><br>docker run &lt;imageName:tag | imageId&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">最简单方式运行容器</span><br>docker run tomcat:x.x<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">端口映射</span><br>docker run -p 8080(外部端口):8080(容器内服务监听端口) tomcat:8.0-jre8<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">后台启动,运行会会给我们返回一个容器ID</span><br>docker run -p 8080:8080 -d(后台启动) tomcat:8.0-jre8<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">起一个唯一标识</span><br>docker run -p 8080:8080 -d --name mysql01 tomcat:8.0-jre8<br></code></pre></td></tr></table></figure><blockquote><p>3.查看容器</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker ps<br><br>docker ps --help<br></code></pre></td></tr></table></figure><blockquote><p>4.关闭、启动</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">关闭容器</span><br>docker stop &lt;containerId | name&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">启动容器</span><br>docker start &lt;containerId | name&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">重启容器</span><br>docker restart &lt;containerId | name&gt;<br></code></pre></td></tr></table></figure><p><img src="/2022/04/23/docker/image-20220423175349258.png" alt="image-20220423175349258"></p><blockquote><p>5.删除容器</p></blockquote><p>1.删除停止的容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker rm &lt;containerId | name&gt;<br></code></pre></td></tr></table></figure><p>2.删除正在运行的容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker rm -f &lt;containerId | name&gt;<br></code></pre></td></tr></table></figure><p>3.删除所有容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker rm -f $(docker ps -aq)<br></code></pre></td></tr></table></figure><blockquote><p>6.容器日志</p></blockquote><p>1.查看容器内服务运行日志</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">查看日志</span><br>docker logs &lt;containerId&gt; | &lt;name&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">实时展示日志</span><br>docker logs -f &lt;containerId&gt; | &lt;name&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">展示日志最后n行</span><br>docker logs -n [number] &lt;containerId&gt;<br></code></pre></td></tr></table></figure><blockquote><p>7.容器交互</p></blockquote><p>1.查看容器内的进程</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">docker top <span class="hljs-tag">&lt;<span class="hljs-name">containerId</span>&gt;</span> | <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2.进入容器内部交互</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">docker exex -it <span class="hljs-tag">&lt;<span class="hljs-name">containerId</span>&gt;</span> | <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span> bash<br></code></pre></td></tr></table></figure><p>3.退出容器</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure><p>4.操作系统与容器内的文件交互</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">1. 复制容器中的文件到宿主机中</span><br>docker cp &lt;容器唯一标识&gt;:容器内资源路径 操作系统中的路径<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">2. 赋值宿主机中的文件到容器中</span><br>docker cp 文件|目录名 容器唯一标识:容器内资源路径<br></code></pre></td></tr></table></figure><p>5.查看容器内部细节</p><figure class="highlight bnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bnf">docker inspect <span class="hljs-attribute">&lt;容器唯一标识&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p>8.数据卷Volume</p></blockquote><p>作用: 实现宿主机系统与容器之间的文件共享</p><p><img src="/2022/04/23/docker/image-20220423191451369.png" alt="image-20220423191451369"></p><p>数据卷的使用方式(在容器 运行时)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">-v 宿主机目录:容器目录</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">这是方式一:自定义数据卷目录</span><br><br>docker run -d -p 8080:8080 --name tomcat01 -v /home/apps/:/usr/local/tomcat/webapps tomcat:8.0-jre8<br></code></pre></td></tr></table></figure><p>使用数据卷后,可以通过修改外部的宿主机文件来同步容器的文件,容器中原本的文件就没有了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">方式二 自动数据卷目录</span><br>docker run -d -p 8080:8080 --name tomcat02 -v aa:/usr/local/tomcat/webapps tomcat:8.0-jre8<br></code></pre></td></tr></table></figure><p>注意:</p><ol><li>aa代表一个数据卷名称,名称可以随便写,docker在不存在时胡自动创建这个数据卷同时自动映射宿主机中某个目录</li><li>同时在容器启动时会将aa对应容器目录中的内容辅助到aa中</li></ol><blockquote><p>9.将容器打包成一个新的镜像</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">将正在运行的容器打包成一个镜像</span><br>docker commit -m “描述信息” -a “作者” 容器唯一标识 打包后的镜像名:版本号<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">将镜像备份出来</span><br>docker save 镜像名称:Tag -o 文件名<br>docker save tomcat:1.0 -o tomcat-1.0.tar<br></code></pre></td></tr></table></figure><h1 id="3-docker镜像分层原理"><a href="#3-docker镜像分层原理" class="headerlink" title="3. docker镜像分层原理"></a>3. docker镜像分层原理</h1><blockquote><p>3.1 镜像定义</p></blockquote><p>定义:一个镜像代表一个软件 软件包 用来打包软件运行环境和基于运行环境开发的软件,它包含运行某个软件所需的所有内容,包括代码、运行时所需的库、环境变量、配置文件</p><blockquote><p>3.2问题思考</p></blockquote><p>1.镜像为什么这么大？</p><p><strong>原因</strong>：一个软件镜像不仅仅是原来软件包,还包含软件所需的操作系统依赖 软件自身依赖 以及自身软件包组成</p><p>2.为什么docker镜像采用分层镜像原理</p><p>docker在设计镜像时每一个镜像都是由n个镜像组成 —&gt;镜像像一个花卷一层一层。</p><p>3.为什么采用联合文件系统</p><p>好处:最大的一个好处时资源共享 采用分层机制实现基础层共享 从而减少docker仓库的大小</p><h1 id="4-docker容器间的网络配置"><a href="#4-docker容器间的网络配置" class="headerlink" title="4. docker容器间的网络配置"></a>4. docker容器间的网络配置</h1><blockquote><p>4.1为什么需要网络功能</p></blockquote><p>Docker允许通过外部访问容器或容器互联的方式来提供网络服务</p><p>1.docker容器与操作系统的通信机制</p><p><img src="/2022/04/23/docker/image-20220424105048273.png" alt="image-20220424105048273"></p><p>2.docker网络使用</p><p>注意: 一般在使用docker网桥(bridge)实现容器与容器通信时,都是站在一个应用角度进行容器通信</p><p>3.查看docker默认网桥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">查看docker默认网桥</span><br>docker network ls<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">创建自己的网桥</span><br>docker create &lt;网桥名称&gt; -d bridge(默认桥接方式)<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">启动容器时指定网桥</span><br>docker run -d -p 8080:8080 --network ems --name....<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">设置了network后可以通过名字访问,不在使用ip了</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">使用docker run --network时网桥必须存在</span><br></code></pre></td></tr></table></figure><h1 id="5-docker数据卷"><a href="#5-docker数据卷" class="headerlink" title="5. docker数据卷"></a>5. docker数据卷</h1><blockquote><p>5.1数据卷作用</p></blockquote><p>用来实现容器与宿主机之间的数据共享</p><blockquote><p>5.2数据卷特点</p></blockquote><ul><li>数据卷: 可以在容器之间共享和重用</li><li>对数据卷的修改会立即影响到对应的容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">-v后面的:ro 代表<span class="hljs-built_in">read</span> only 只读</span><br>docker run -d -p 8085:8080 --name tomcat5 -v /home/apps:/usrl/local/tomcat:ro tomcat:8.0-jre8<br></code></pre></td></tr></table></figure><ul><li>对数据卷的更新修改,不会影响镜像</li><li>数据卷默认一直存在,即使容器删除</li></ul><blockquote><p>5.3数据卷操作</p></blockquote><p>1.自定义数据卷目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -v 绝对路径:容器内路径<br></code></pre></td></tr></table></figure><p>2.自动创建数据卷</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -v 卷名:(容器内路径)<br></code></pre></td></tr></table></figure><p>3.docker操作数据卷指令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">查看数据卷</span><br>docker volume ls<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">查看某个数据卷细节</span><br>docker volume inspect aa<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">创建数据卷</span><br>docker volume create bb<br></code></pre></td></tr></table></figure><h1 id="6-docker核心架构图"><a href="#6-docker核心架构图" class="headerlink" title="6. docker核心架构图"></a>6. docker核心架构图</h1><p><img src="/2022/04/23/docker/image-20220424150615720.png" alt="image-20220424150615720"></p><h1 id="7-docker安装服务"><a href="#7-docker安装服务" class="headerlink" title="7.docker安装服务"></a>7.docker安装服务</h1><h2 id="7-1-docker安装mysql"><a href="#7-1-docker安装mysql" class="headerlink" title="7.1 docker安装mysql"></a>7.1 docker安装mysql</h2><ol><li><p>在docker hub搜索对应服务的镜像</p></li><li><p>查看服务的描述和版本号</p></li><li><p>确定使用的版本进行pull</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker pull mysql:5.6<br></code></pre></td></tr></table></figure><ol start="4"><li><p>使用镜像</p><p>4.1 基本启动mysql服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">基本命令 -e 代表的environmenth</span><br>docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">example</span><br>docker run --name mysql-5.6 -r MYSQL_ROOT_PASSWORD=root -d mysql:5.6<br></code></pre></td></tr></table></figure><p>4.2 端口映射</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -d -p 8087:3306 --name mysql1 -e MYSQL_ROOT_PASSWORD=root -v mysqldata:/var/lib/mysql mysql:5.6<br></code></pre></td></tr></table></figure></li></ol></li></ol><h2 id="7-2-docker安装tomcat"><a href="#7-2-docker安装tomcat" class="headerlink" title="7.2 docker安装tomcat"></a>7.2 docker安装tomcat</h2><blockquote><p>1.下载tomcat服务</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker pull tomcat:8.0-jre8<br></code></pre></td></tr></table></figure><blockquote><p>2.启动tomcat服务</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">2.1 启动tomcat服务</span><br>docker run -d -p 8081:8080 --name tomcat tomcat:8.0-jre8<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">2.2 将部署应用目录通过数据卷挂载宿主机系统</span><br>docker run -d -p 8081:8080 --name tomcat -v apps:/url/local/tomcat/webapps tomcat:8.0-jre8<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">2.3 修改配置文件,并将配置文件挂载到宿主机系统</span><br>docker run -d -p 8081:8080 --name tomcat -v apps:/url/local/tomcat/webapps -v confs:/usr/local/tomcat/c tomcat:8.0-jre8<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Marked</title>
    <link href="/2022/03/28/Marked/"/>
    <url>/2022/03/28/Marked/</url>
    
    <content type="html"><![CDATA[<blockquote><p>Vue页面中解析Md文件</p></blockquote><p>1.安装marked插件</p><figure class="highlight cmake"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> marked -S<br></code></pre></td></tr></table></figure><p>2.组件中使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;w&quot;&gt;<br>    &lt;div v-html=&quot;articalContent&quot; class=&quot;markdown-body&quot;&gt;&lt;/div&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>const marked = require(&#x27;marked&#x27;)<br>import HelloWrold from &#x27;../note/HelloWorld.md&#x27;<br>import Shell from &#x27;../note/Shell.md&#x27;<br>export default &#123;<br>  data() &#123;<br>    return &#123;<br>      articalContent: &#x27;&#x27;<br>    &#125;<br>  &#125;,<br>  created() &#123;<br>    <br>    this.articalContent = marked(Shell)<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>  .w &#123;<br>    width: 1226px;<br>    margin: 0 auto;<br>  &#125;<br>&lt;/style&gt;<br><br></code></pre></td></tr></table></figure><p>3.如果想引入外部md文件则</p><blockquote><p>3.1 安装插件</p></blockquote><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> html-loader markdown-loader -S<br></code></pre></td></tr></table></figure><blockquote><p>3.2 配置 vue.config.js</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">chainWebpack</span>: <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> &#123;<br>    config.<span class="hljs-property">module</span><br>      .<span class="hljs-title function_">rule</span>(<span class="hljs-string">&#x27;md&#x27;</span>)<br>      .<span class="hljs-title function_">test</span>(<span class="hljs-regexp">/\.md/</span>)<br>      .<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;html-loader&#x27;</span>)<br>      .<span class="hljs-title function_">loader</span>(<span class="hljs-string">&#x27;html-loader&#x27;</span>)<br>      .<span class="hljs-title function_">end</span>()<br>      .<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;markdown-loader&#x27;</span>)<br>      .<span class="hljs-title function_">loader</span>(<span class="hljs-string">&#x27;markdown-loader&#x27;</span>)<br>      .<span class="hljs-title function_">end</span>()<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>4.调整样式</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">$ npm <span class="hljs-keyword">install</span> github-markdown-css<br></code></pre></td></tr></table></figure><blockquote><p>全局引入</p></blockquote><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs aspectj"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;github-markdown-css&#x27;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>使用Hexo搭建个人博客</title>
    <link href="/2022/03/25/Hexo-Generate/"/>
    <url>/2022/03/25/Hexo-Generate/</url>
    
    <content type="html"><![CDATA[<p>这是一篇搭建Hexo个人博客的文章,主要介绍了关于通过Hexo搭建个人博客的过程常用命令,以及遇到的一些坑。</p><h1 id="1-常用命令"><a href="#1-常用命令" class="headerlink" title="1.常用命令"></a>1.常用命令</h1><blockquote><p>1.1初始化博客项目</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs swift">hexo <span class="hljs-keyword">init</span> &lt;folder&gt;<br></code></pre></td></tr></table></figure><blockquote><p>1.2清除缓存</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo clean</span><br></code></pre></td></tr></table></figure><blockquote><p>1.3 编译</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo generation</span><br></code></pre></td></tr></table></figure><blockquote><p>1.4 本地运行</p></blockquote><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo s</span> <br></code></pre></td></tr></table></figure><h1 id="2-个人搭建遇到的问题"><a href="#2-个人搭建遇到的问题" class="headerlink" title="2.个人搭建遇到的问题"></a>2.个人搭建遇到的问题</h1><blockquote><p>2.1图片解析问题</p></blockquote><ol><li><p>下载插件</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">npm install https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/CodeFalling/</span>hexo-asset-img<br></code></pre></td></tr></table></figure></li><li><p>修改_config.yml配置</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">post_asset_foler</span>  = <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><ol start="3"><li>使用相对路径引入文件</li></ol></li></ol><p>**注意:对于Windows用户一定一定要在引用图片时加.&#x2F;否则会报错,同时插件也必须是上面的插件,对于旧版产检i一样不好用</p><p><img src="/2022/03/25/Hexo-Generate/1.png" alt="测试图片"></p>]]></content>
    
    
    
    <tags>
      
      <tag>configure</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2022/03/25/hello-world/"/>
    <url>/2022/03/25/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
